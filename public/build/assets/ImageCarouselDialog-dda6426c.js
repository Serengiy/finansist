import{Q as ae}from"./QTooltip-3ff6951b.js";import{al as oe,am as V,an as X,ao as ie,ap as Y,aq as re,ar as Q,as as z,at as G,a8 as O,au as le,av as R,W as te,r as U,R as f,B as H,ae as se,S as m,aw as ue,ax as ce,T as W,ay as de,O as ne,a1 as ve,a3 as fe,az as me,A as pe,a6 as ge,aA as he,i as L,aB as ye,o as T,c as M,w as A,a as j,k as xe,j as _e,v as Ce,d as Pe,n as J,F as be,I as qe,u as K,q as Z,Q as we}from"./app-64dafc3a.js";import{Q as Se}from"./QImg-4607bda3.js";import{u as ke}from"./use-render-cache-f6c711e0.js";import{u as Ie,b as Te,c as Ae}from"./QTable-9f10ca35.js";import{C as Be}from"./ClosePopup-9fac0edc.js";import{u as De}from"./use-dialog-plugin-component-00e1baf8.js";function $e(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,v)=>{const i=parseFloat(r);i&&(o[v]=i)}),o}const Ve=oe({name:"touch-swipe",beforeMount(e,{value:o,arg:r,modifiers:v}){if(v.mouse!==!0&&V.has.touch!==!0)return;const i=v.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:$e(r),direction:X(v),noop:ie,mouseStart(a){Y(a,t)&&re(a)&&(Q(t,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(Y(a,t)){const c=a.target;Q(t,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,c){V.is.firefox===!0&&z(e,!0);const h=G(a);t.event={x:h.left,y:h.top,time:Date.now(),mouse:c===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){O(a);return}const c=Date.now()-t.event.time;if(c===0)return;const h=G(a),p=h.left-t.event.x,l=Math.abs(p),y=h.top-t.event.y,u=Math.abs(y);if(t.event.mouse!==!0){if(l<t.sensitivity[1]&&u<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(l<t.sensitivity[2]&&u<t.sensitivity[2])return;const g=l/c,_=u/c;t.direction.vertical===!0&&l<u&&l<100&&_>t.sensitivity[0]&&(t.event.dir=y<0?"up":"down"),t.direction.horizontal===!0&&l>u&&u<100&&g>t.sensitivity[0]&&(t.event.dir=p<0?"left":"right"),t.direction.up===!0&&l<u&&y<0&&l<100&&_>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&l<u&&y>0&&l<100&&_>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&l>u&&p<0&&u<100&&g>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&l>u&&p>0&&u<100&&g>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(O(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),le(),t.styleCleanup=S=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const C=()=>{document.body.classList.remove("no-pointer-events--children")};S===!0?setTimeout(C,50):C()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:c,distance:{x:l,y:u}})):t.end(a)},end(a){t.event!==void 0&&(R(t,"temp"),V.is.firefox===!0&&z(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&O(a),t.event=void 0)}};if(e.__qtouchswipe=t,v.mouse===!0){const a=v.mouseCapture===!0||v.mousecapture===!0?"Capture":"";Q(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}V.has.touch===!0&&Q(t,"main",[[e,"touchstart","touchStart",`passive${v.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const r=e.__qtouchswipe;r!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&r.end(),r.handler=o.value),r.direction=X(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(R(o,"main"),R(o,"temp"),V.is.firefox===!0&&z(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}}),Ne={name:{required:!0},disable:Boolean},ee={setup(e,{slots:o}){return()=>m("div",{class:"q-panel scroll",role:"tabpanel"},W(o.default))}},Ee={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Qe=["update:modelValue","beforeTransition","transition"];function Me(){const{props:e,emit:o,proxy:r}=te(),{getCache:v}=ke();let i,t;const a=U(null),c=U(null);function h(n){const s=e.vertical===!0?"up":"left";P((r.$q.lang.rtl===!0?-1:1)*(n.direction===s?1:-1))}const p=f(()=>[[Ve,h,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),l=f(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=f(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),u=f(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=f(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=f(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),S=f(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);H(()=>e.modelValue,(n,s)=>{const x=b(n)===!0?k(n):-1;t!==!0&&I(x===-1?0:x<k(s)?-1:1),a.value!==x&&(a.value=x,o("beforeTransition",n,s),se(()=>{o("transition",n,s)}))});function C(){P(1)}function B(){P(-1)}function N(n){o("update:modelValue",n)}function b(n){return n!=null&&n!==""}function k(n){return i.findIndex(s=>s.props.name===n&&s.props.disable!==""&&s.props.disable!==!0)}function F(){return i.filter(n=>n.props.disable!==""&&n.props.disable!==!0)}function I(n){const s=n!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(n===-1?l.value:y.value):null;c.value!==s&&(c.value=s)}function P(n,s=a.value){let x=s+n;for(;x!==-1&&x<i.length;){const w=i[x];if(w!==void 0&&w.props.disable!==""&&w.props.disable!==!0){I(n),t=!0,o("update:modelValue",w.props.name),setTimeout(()=>{t=!1});return}x+=n}e.infinite===!0&&i.length!==0&&s!==-1&&s!==i.length&&P(n,n===-1?i.length:-1)}function D(){const n=k(e.modelValue);return a.value!==n&&(a.value=n),!0}function E(){const n=b(e.modelValue)===!0&&D()&&i[a.value];return e.keepAlive===!0?[m(de,_.value,[m(S.value===!0?v(g.value,()=>({...ee,name:g.value})):ee,{key:g.value,style:u.value},()=>n)])]:[m("div",{class:"q-panel scroll",style:u.value,key:g.value,role:"tabpanel"},[n])]}function d(){if(i.length!==0)return e.animated===!0?[m(ue,{name:c.value},E)]:E()}function q(n){return i=ce(W(n.default,[])).filter(s=>s.props!==null&&s.props.slot===void 0&&b(s.props.name)===!0),i.length}function $(){return i}return Object.assign(r,{next:C,previous:B,goTo:N}),{panelIndex:a,panelDirectives:p,updatePanelsList:q,updatePanelIndex:D,getPanelContent:d,getEnabledPanels:F,getPanels:$,isValidPanelName:b,keepAliveProps:_,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:P,goToPanel:N,nextPanel:C,previousPanel:B}}const Le=ne({name:"QCarouselSlide",props:{...Ne,imgSrc:String},setup(e,{slots:o}){const r=f(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>m("div",{class:"q-carousel__slide",style:r.value},W(o.default))}}),Fe=["top","right","bottom","left"],ze=["regular","flat","outline","push","unelevated"],Oe=ne({name:"QCarousel",props:{...ve,...Ee,...Ie,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ze.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Fe.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Te,...Qe],setup(e,{slots:o}){const{proxy:{$q:r}}=te(),v=fe(e,r);let i=null,t;const{updatePanelsList:a,getPanelContent:c,panelDirectives:h,goToPanel:p,previousPanel:l,nextPanel:y,getEnabledPanels:u,panelIndex:g}=Me(),{inFullscreen:_}=Ae(),S=f(()=>_.value!==!0&&e.height!==void 0?{height:e.height}:{}),C=f(()=>e.vertical===!0?"vertical":"horizontal"),B=f(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),N=f(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(_.value===!0?" fullscreen":"")+(v.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${C.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${B.value}`:"")),b=f(()=>{const d=[e.prevIcon||r.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||r.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&r.lang.rtl===!0?d.reverse():d}),k=f(()=>e.navigationIcon||r.iconSet.carousel.navigationIcon),F=f(()=>e.navigationActiveIcon||k.value),I=f(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));H(()=>e.modelValue,()=>{e.autoplay&&P()}),H(()=>e.autoplay,d=>{d?P():i!==null&&(clearTimeout(i),i=null)});function P(){const d=me(e.autoplay)===!0?Math.abs(e.autoplay):5e3;i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,d>=0?y():l()},d)}pe(()=>{e.autoplay&&P()}),ge(()=>{i!==null&&clearTimeout(i)});function D(d,q){return m("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${d} q-carousel__navigation--${B.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[m("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},u().map(q))])}function E(){const d=[];if(e.navigation===!0){const q=o["navigation-icon"]!==void 0?o["navigation-icon"]:n=>m(L,{key:"nav"+n.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${n.active===!0?"":"in"}active`,...n.btnProps,onClick:n.onClick}),$=t-1;d.push(D("buttons",(n,s)=>{const x=n.props.name,w=g.value===s;return q({index:s,maxIndex:$,name:x,active:w,btnProps:{icon:w===!0?F.value:k.value,size:"sm",...I.value},onClick:()=>{p(x)}})}))}else if(e.thumbnails===!0){const q=e.controlColor!==void 0?` text-${e.controlColor}`:"";d.push(D("thumbnails",$=>{const n=$.props;return m("img",{key:"tmb#"+n.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${n.name===e.modelValue?"":"in"}active`+q,src:n.imgSrc||n["img-src"],onClick:()=>{p(n.name)}})}))}return e.arrows===!0&&g.value>=0&&((e.infinite===!0||g.value>0)&&d.push(m("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${C.value} absolute flex flex-center`},[m(L,{icon:b.value[0],...I.value,onClick:l})])),(e.infinite===!0||g.value<t-1)&&d.push(m("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${C.value} absolute flex flex-center`},[m(L,{icon:b.value[1],...I.value,onClick:y})]))),ye(o.control,d)}return()=>(t=a(o),m("div",{class:N.value,style:S.value},[he("div",{class:"q-carousel__slides-container"},c(),"sl-cont",e.swipeable,()=>h.value)].concat(E())))}}),Re={class:"q-pa-md row col-12"},je={key:0,class:"text-h5"},Je={__name:"ImageCarouselDialog",props:["images","currentIndex"],setup(e){const o=e,r=o.images,v=U(o.currentIndex),{dialogRef:i,onDialogHide:t,onDialogOK:a,onDialogCancel:c}=De();return console.log(r),r.forEach((h,p)=>{console.log(h,p)}),(h,p)=>(T(),M(we,{ref_key:"dialogRef",ref:i,"full-height":"","full-width":"",onHide:K(t)},{default:A(()=>[j(xe,{class:"dialog row q-pa-lg justify-center"},{default:A(()=>[_e((T(),M(L,{class:"absolute-top-right",color:"purple",dense:"",flat:"",icon:"close"},{default:A(()=>[j(ae,{class:"bg-white text-purple text-primary"},{default:A(()=>[Ce("Close")]),_:1})]),_:1})),[[Be]]),Pe("div",Re,[j(Oe,{modelValue:v.value,"onUpdate:modelValue":p[0]||(p[0]=l=>v.value=l),animated:"",arrows:"",class:"col-12","control-color":"purple",infinite:"",navigation:""},{default:A(()=>[(T(!0),J(be,null,qe(K(r),(l,y)=>(T(),M(Le,{key:y,name:y,class:"row justify-center"},{default:A(()=>[l!=null?(T(),M(Se,{key:0,src:l,fit:"contain",height:"100%",style:{"max-width":"500px"}},null,8,["src"])):Z("",!0)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),K(r).length===0?(T(),J("p",je,"Нет изображения")):Z("",!0)]),_:1})]),_:1},8,["onHide"]))}};export{Je as _};

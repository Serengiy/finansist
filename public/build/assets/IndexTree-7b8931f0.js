import{r as q,o as De,C as ve,Z,k as Me,N as Oe,a as _,b as $,w as E,d as K,$ as ke,e as P,f as Y,Q as p,g as xe,h as Pe,_ as L,i as Te,a0 as We,F as Se,n as Ye,t as ee}from"./app-f80ab9e6.js";import{Q as Ne,a as Fe}from"./QForm-be91830e.js";import{Q as Ce}from"./QPage-a14373ce.js";import{s as qe,a as te}from"./index-b3f125bf.js";const de=6048e5,_e=864e5,le=6e4,fe=36e5,re=Symbol.for("constructDateFrom");function b(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&re in r?r[re](e):r instanceof Date?new r.constructor(e):new Date(e)}function w(r,e){return b(e||r,r)}function Ee(r,e,t){const n=w(r,t==null?void 0:t.in);return isNaN(e)?b((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function He(r,e,t){const n=w(r,t==null?void 0:t.in);if(isNaN(e))return b((t==null?void 0:t.in)||r,NaN);if(!e)return n;const a=n.getDate(),s=b((t==null?void 0:t.in)||r,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}let Qe={};function B(){return Qe}function k(r,e){var u,o,c,m;const t=B(),n=(e==null?void 0:e.weekStartsOn)??((o=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:o.weekStartsOn)??t.weekStartsOn??((m=(c=t.locale)==null?void 0:c.options)==null?void 0:m.weekStartsOn)??0,a=w(r,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function I(r,e){return k(r,{...e,weekStartsOn:1})}function me(r,e){const t=w(r,e==null?void 0:e.in),n=t.getFullYear(),a=b(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=I(a),i=b(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const u=I(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function ne(r){const e=w(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function he(r,...e){const t=b.bind(null,r||e.find(n=>typeof n=="object"));return e.map(t)}function ae(r,e){const t=w(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Ie(r,e,t){const[n,a]=he(t==null?void 0:t.in,r,e),s=ae(n),i=ae(a),u=+s-ne(s),o=+i-ne(i);return Math.round((u-o)/_e)}function Be(r,e){const t=me(r,e),n=b((e==null?void 0:e.in)||r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),I(n)}function Ve(r,e,t){return He(r,e*3,t)}function $e(r,e,t){return Ee(r,e*7,t)}function Le(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Re(r){return!(!Le(r)&&typeof r!="number"||isNaN(+w(r)))}function V(r,e){const[t,n]=he(r,e.start,e.end);return{start:t,end:n}}function Ue(r,e){const{start:t,end:n}=V(e==null?void 0:e.in,r);let a=+t>+n;const s=a?+t:+n,i=a?n:t;i.setHours(0,0,0,0);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,a=!a);const o=[];for(;+i<=s;)o.push(b(t,i)),i.setDate(i.getDate()+u),i.setHours(0,0,0,0);return a?o.reverse():o}function Xe(r,e){const{start:t,end:n}=V(e==null?void 0:e.in,r);let a=+t>+n;const s=a?+t:+n,i=a?n:t;i.setHours(0,0,0,0),i.setDate(1);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,a=!a);const o=[];for(;+i<=s;)o.push(b(t,i)),i.setMonth(i.getMonth()+u);return a?o.reverse():o}function H(r,e){const t=w(r,e==null?void 0:e.in),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function je(r,e){const{start:t,end:n}=V(e==null?void 0:e.in,r);let a=+t>+n;const s=a?+H(t):+H(n);let i=H(a?n:t),u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,a=!a);const o=[];for(;+i<=s;)o.push(b(t,i)),i=Ve(i,u);return a?o.reverse():o}function Ge(r,e){const{start:t,end:n}=V(e==null?void 0:e.in,r);let a=+t>+n;const s=k(a?n:t,e),i=k(a?t:n,e);s.setHours(15),i.setHours(15);const u=+i.getTime();let o=s,c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,a=!a);const m=[];for(;+o<=u;)o.setHours(0),m.push(b(t,o)),o=$e(o,c),o.setHours(15);return a?m.reverse():m}function Ae(r,e){const t=w(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const ze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Je=(r,e,t)=>{let n;const a=ze[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function R(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Ze={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},et={date:R({formats:Ze,defaultWidth:"full"}),time:R({formats:Ke,defaultWidth:"full"}),dateTime:R({formats:pe,defaultWidth:"full"})},tt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rt=(r,e,t,n)=>tt[r];function N(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,u=t!=null&&t.width?String(t.width):i;a=r.formattingValues[u]||r.formattingValues[i]}else{const i=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[u]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const nt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},at={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},st={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},it={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ut={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ct={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ot=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},dt={ordinalNumber:ot,era:N({values:nt,defaultWidth:"wide"}),quarter:N({values:at,defaultWidth:"wide",argumentCallback:r=>r-1}),month:N({values:st,defaultWidth:"wide"}),day:N({values:it,defaultWidth:"wide"}),dayPeriod:N({values:ut,defaultWidth:"wide",formattingValues:ct,defaultFormattingWidth:"wide"})};function F(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],u=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],o=Array.isArray(u)?ft(u,M=>M.test(i)):lt(u,M=>M.test(i));let c;c=r.valueCallback?r.valueCallback(o):o,c=t.valueCallback?t.valueCallback(c):c;const m=e.slice(i.length);return{value:c,rest:m}}}function lt(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function ft(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function mt(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const u=e.slice(a.length);return{value:i,rest:u}}}const ht=/^(\d+)(th|st|nd|rd)?/i,gt=/\d+/i,yt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wt={any:[/^b/i,/^(a|c)/i]},bt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dt={any:[/1/i,/2/i,/3/i,/4/i]},vt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ot={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tt={ordinalNumber:mt({matchPattern:ht,parsePattern:gt,valueCallback:r=>parseInt(r,10)}),era:F({matchPatterns:yt,defaultMatchWidth:"wide",parsePatterns:wt,defaultParseWidth:"any"}),quarter:F({matchPatterns:bt,defaultMatchWidth:"wide",parsePatterns:Dt,defaultParseWidth:"any",valueCallback:r=>r+1}),month:F({matchPatterns:vt,defaultMatchWidth:"wide",parsePatterns:Mt,defaultParseWidth:"any"}),day:F({matchPatterns:Ot,defaultMatchWidth:"wide",parsePatterns:kt,defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:xt,defaultMatchWidth:"any",parsePatterns:Pt,defaultParseWidth:"any"})},Wt={code:"en-US",formatDistance:Je,formatLong:et,formatRelative:rt,localize:dt,match:Tt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function St(r,e){const t=w(r,e==null?void 0:e.in);return Ie(t,Ae(t))+1}function ge(r,e){const t=w(r,e==null?void 0:e.in),n=+I(t)-+Be(t);return Math.round(n/de)+1}function ye(r,e){var m,M,O,d;const t=w(r,e==null?void 0:e.in),n=t.getFullYear(),a=B(),s=(e==null?void 0:e.firstWeekContainsDate)??((M=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:M.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(O=a.locale)==null?void 0:O.options)==null?void 0:d.firstWeekContainsDate)??1,i=b((e==null?void 0:e.in)||r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const u=k(i,e),o=b((e==null?void 0:e.in)||r,0);o.setFullYear(n,0,s),o.setHours(0,0,0,0);const c=k(o,e);return+t>=+u?n+1:+t>=+c?n:n-1}function Yt(r,e){var u,o,c,m;const t=B(),n=(e==null?void 0:e.firstWeekContainsDate)??((o=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:o.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(c=t.locale)==null?void 0:c.options)==null?void 0:m.firstWeekContainsDate)??1,a=ye(r,e),s=b((e==null?void 0:e.in)||r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),k(s,e)}function Nt(r,e){const t=w(r,e==null?void 0:e.in),n=+k(t,e)-+Yt(t,e);return Math.round(n/de)+1}function l(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const x={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return l(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):l(t+1,2)},d(r,e){return l(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return l(r.getHours()%12||12,e.length)},H(r,e){return l(r.getHours(),e.length)},m(r,e){return l(r.getMinutes(),e.length)},s(r,e){return l(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return l(a,e.length)}},S={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},se={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return x.y(r,e)},Y:function(r,e,t,n){const a=ye(r,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return l(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):l(s,e.length)},R:function(r,e){const t=me(r);return l(t,e.length)},u:function(r,e){const t=r.getFullYear();return l(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return l(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return l(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return x.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return l(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=Nt(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):l(a,e.length)},I:function(r,e,t){const n=ge(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):l(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):x.d(r,e)},D:function(r,e,t){const n=St(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):l(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return l(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return l(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return l(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=S.noon:n===0?a=S.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=S.evening:n>=12?a=S.afternoon:n>=4?a=S.morning:a=S.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return x.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):x.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):l(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):l(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):x.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):x.s(r,e)},S:function(r,e){return x.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ue(n);case"XXXX":case"XX":return T(n);case"XXXXX":case"XXX":default:return T(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return ue(n);case"xxxx":case"xx":return T(n);case"xxxxx":case"xxx":default:return T(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ie(n,":");case"OOOO":default:return"GMT"+T(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ie(n,":");case"zzzz":default:return"GMT"+T(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return l(n,e.length)},T:function(r,e,t){return l(+r,e.length)}};function ie(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+l(s,2)}function ue(r,e){return r%60===0?(r>0?"-":"+")+l(Math.abs(r)/60,2):T(r,e)}function T(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=l(Math.trunc(n/60),2),s=l(n%60,2);return t+a+e+s}const ce=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},we=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ft=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return ce(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ce(n,e)).replace("{{time}}",we(a,e))},Ct={p:we,P:Ft},qt=/^D+$/,_t=/^Y+$/,Et=["D","DD","YY","YYYY"];function Ht(r){return qt.test(r)}function Qt(r){return _t.test(r)}function It(r,e,t){const n=Bt(r,e,t);if(console.warn(n),Et.includes(r))throw new RangeError(n)}function Bt(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lt=/^'([^]*?)'?$/,Rt=/''/g,Ut=/[a-zA-Z]/;function U(r,e,t){var m,M,O,d,h,f,D,v;const n=B(),a=(t==null?void 0:t.locale)??n.locale??Wt,s=(t==null?void 0:t.firstWeekContainsDate)??((M=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:M.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(O=n.locale)==null?void 0:O.options)==null?void 0:d.firstWeekContainsDate)??1,i=(t==null?void 0:t.weekStartsOn)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((v=(D=n.locale)==null?void 0:D.options)==null?void 0:v.weekStartsOn)??0,u=w(r,t==null?void 0:t.in);if(!Re(u))throw new RangeError("Invalid time value");let o=e.match($t).map(g=>{const y=g[0];if(y==="p"||y==="P"){const W=Ct[y];return W(g,a.formatLong)}return g}).join("").match(Vt).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:Xt(g)};if(se[y])return{isToken:!0,value:g};if(y.match(Ut))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(o=a.localize.preprocessor(u,o));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return o.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Qt(y)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Ht(y))&&It(y,e,String(r));const W=se[y[0]];return W(u,y,a.localize,c)}).join("")}function Xt(r){const e=r.match(Lt);return e?e[1].replace(Rt,"'"):r}function jt(r,e){return w(r,e==null?void 0:e.in).getFullYear()}function oe(r,e){const t=()=>b(e==null?void 0:e.in,NaN),n=(e==null?void 0:e.additionalDigits)??2,a=Jt(r);let s;if(a.date){const c=Zt(a.date,n);s=Kt(c.restDateString,c.year)}if(!s||isNaN(+s))return t();const i=+s;let u=0,o;if(a.time&&(u=pt(a.time),isNaN(u)))return t();if(a.timezone){if(o=er(a.timezone),isNaN(o))return t()}else{const c=new Date(i+u),m=w(0,e==null?void 0:e.in);return m.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),m.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),m}return w(i+u+o,e==null?void 0:e.in)}const Q={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Gt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,At=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Jt(r){const e={},t=r.split(Q.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Q.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Q.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const a=Q.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Zt(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:r.slice((n[1]||n[2]).length)}}function Kt(r,e){if(e===null)return new Date(NaN);const t=r.match(Gt);if(!t)return new Date(NaN);const n=!!t[4],a=C(t[1]),s=C(t[2])-1,i=C(t[3]),u=C(t[4]),o=C(t[5])-1;if(n)return sr(e,u,o)?tr(e,u,o):new Date(NaN);{const c=new Date(0);return!nr(e,s,i)||!ar(e,a)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(a,i)),c)}}function C(r){return r?parseInt(r):1}function pt(r){const e=r.match(At);if(!e)return NaN;const t=X(e[1]),n=X(e[2]),a=X(e[3]);return ir(t,n,a)?t*fe+n*le+a*1e3:NaN}function X(r){return r&&parseFloat(r.replace(",","."))||0}function er(r){if(r==="Z")return 0;const e=r.match(zt);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return ur(n,a)?t*(n*fe+a*le):NaN}function tr(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const rr=[31,null,31,30,31,30,31,31,30,31,30,31];function be(r){return r%400===0||r%4===0&&r%100!==0}function nr(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(rr[e]||(be(r)?29:28))}function ar(r,e){return e>=1&&e<=(be(r)?366:365)}function sr(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function ir(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function ur(r,e){return e>=0&&e<=59}const cr={class:"row"},or={class:"row q-mt-md"},dr={class:"row"},lr={class:"q-ml-md"},yr={__name:"IndexTree",setup(r){const e=q([]),t=q([]),n=q(!1),a={daily:"dd-MM-yyyy",weekly:"W-oooo",monthly:"MM-yyyy",quarterly:"Q-yyyy"};function s(d){return{key:d.id,data:{name:d.name,categoryType:d.category_type,...Object.fromEntries(t.value.map(h=>{var f;return[`date-${h}`,(f=d.totals)==null?void 0:f[h]]}))},children:d.children?d.children.map(h=>s(h)):[]}}const i=()=>{const d=new Date;return d.setDate(1),d.toISOString().split("T")[0]},u=()=>{const d=new Date;return d.setMonth(d.getMonth()+1),d.setDate(0),d.toISOString().split("T")[0]},o=d=>new Intl.NumberFormat("ru-RU",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(d),c=q({groupBy:null,dateFrom:i(),dateTo:u(),type:null,category:null}),m=()=>{O()};De(()=>{O()}),ve(()=>c.value.groupBy,()=>{O()});const M=(d,h,f)=>{switch(f){case"weekly":return Ge({start:d,end:h},{weekStartsOn:1}).map(D=>`${ge(D)}-${jt(D)}`);case"monthly":return Xe({start:d,end:h}).map(D=>U(D,a.monthly));case"quarterly":return je({start:d,end:h}).map(D=>U(D,a.quarterly));case"daily":default:return Ue({start:d,end:h}).map(D=>U(D,a.daily))}},O=async()=>{var d,h;Z.show({message:"Загрузка..."});try{const f=oe(c.value.dateFrom),D=oe(c.value.dateTo),v=((d=c.value.groupBy)==null?void 0:d.value)||"daily";t.value=M(f,D,v);const g=await Me.get("/api/categories",{params:{startDate:c.value.dateFrom,endDate:c.value.dateTo,groupBy:(h=c.value.groupBy)==null?void 0:h.value}});console.log(g.data.categories),e.value=g.data.categories.map(y=>s(y))}catch(f){console.log(f),Oe.create({message:"Fetching failed",color:"red"})}finally{Z.hide()}};return(d,h)=>e.value.length?(_(),$(Ce,{key:0},{default:E(()=>[n.value?(_(),$(ke,{key:0,color:"primary",size:"150px",class:"q-my-md"})):K("",!0),P(Fe,{onSubmit:Pe(m,["prevent"]),class:"items-center q-pa-md bg-grey-4"},{default:E(()=>[Y("div",cr,[P(p,{class:"col-2",clearable:"",dense:"",outlined:"",filled:"",modelValue:c.value.dateFrom,"onUpdate:modelValue":h[0]||(h[0]=f=>c.value.dateFrom=f),label:"Дата начала",type:"date"},null,8,["modelValue"]),P(p,{class:"col-2 q-ml-lg",dense:"",clearable:"",outlined:"",filled:"",modelValue:c.value.dateTo,"onUpdate:modelValue":h[1]||(h[1]=f=>c.value.dateTo=f),label:"Дата окончания",type:"date"},null,8,["modelValue"]),P(Ne,{class:"col-3 q-ml-lg",dense:"",outlined:"",filled:"",label:"Группировать по",modelValue:c.value.groupBy,"onUpdate:modelValue":h[2]||(h[2]=f=>c.value.groupBy=f),options:[{label:"Дням",value:"daily"},{label:"Неделям",value:"weekly"},{label:"Месяцам",value:"monthly"},{label:"Кварталам",value:"quarterly"}]},null,8,["modelValue"])]),Y("div",or,[P(xe,{class:"text-right",dense:"",size:"sm",type:"submit",label:"Применить фильтры",color:"primary"})])]),_:1}),P(L(qe),{class:"custom-tree-table q-mt-md q-px-sm",value:e.value,tableStyle:"min-width: 60rem; border-collapse: separate; border-spacing: 0 0.5rem "},{default:E(()=>[P(L(te),{field:"name",header:"Категория",expander:"",style:{width:"20%","font-weight":"bold"}}),(_(!0),Te(Se,null,We(t.value,(f,D)=>(_(),$(L(te),{key:D,field:`date-${f}`,header:f,style:{"min-width":"180px","text-align":"right","padding-right":"1rem"}},{body:E(({node:v})=>{var g,y,W,j,G,A,z,J;return[Y("div",dr,[Y("span",{class:Ye({"text-red":(y=(g=v.data[`date-${f}`])==null?void 0:g.sum)==null?void 0:y.toString().startsWith("-"),"text-green":((W=v.data[`date-${f}`])==null?void 0:W.sum)>0,"":((j=v.data[`date-${f}`])==null?void 0:j.sum)===0})},ee((G=v.data[`date-${f}`])!=null&&G.sum?o((A=v.data[`date-${f}`])==null?void 0:A.sum):"0.00"),3),Y("span",lr,ee((z=v.data[`date-${f}`])!=null&&z.percentage_of_root?((J=v.data[`date-${f}`])==null?void 0:J.percentage_of_root)+"%":""),1)])]}),_:2},1032,["field","header"]))),128))]),_:1},8,["value"])]),_:1})):K("",!0)}};export{yr as default};

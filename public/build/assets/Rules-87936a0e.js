import{Q as l}from"./QPage-3662eeea.js";import{u,r as n,k as p,o as d,c as m,w as g,N as f,b as o,a as _}from"./app-90bf6a79.js";import{_ as x}from"./RulesTable-2098aeec.js";import"./QTable-ca0f14f3.js";import"./QSelect-4ea1f147.js";import"./QPagination-de6aaaf7.js";const y={class:"row justify-center"},v={class:"justify-center col-12 q-px-md q-mt-lg"},j={__name:"Rules",setup(w){const c=u().params.id,s=n([]),r=n({page:1,rowsPerPage:20,rowsNumber:0}),e=async()=>{try{const t=await axios.get("/api/rules",{params:{contractor_id:c,load:["category,contractor"]}});console.log(t.data.data),s.value=t.data.data}catch{f.create({message:"Ошибка получения данных",color:"red",timeout:2e3})}};return p(()=>{e()}),(t,a)=>(d(),m(l,{class:"bg-grey-3"},{default:g(()=>[o("div",y,[o("div",v,[a[1]||(a[1]=o("p",{class:"text-h6 text-center"}," Правила ",-1)),_(x,{rules:s.value,pagination:r.value,"onUpdate:pagination":a[0]||(a[0]=i=>{r.value=i,e()}),onRefresh:e},null,8,["rules","pagination"])])])]),_:1}))}};export{j as default};

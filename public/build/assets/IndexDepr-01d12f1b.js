import{Q as u}from"./QPage-aa58c21f.js";import{s as f,a as o}from"./index-71d16314.js";import{r as h,o as g,P as n,N as _,b as l,c as i,d,s as r,g as c,e as x}from"./app-709df95d.js";const k={__name:"IndexDepr",setup(b){const a=h([]);function s(e){return console.log(e),{key:e.id,data:{name:e.name,categoryType:e.category_type,totalAmount:e.total_amount,createdAt:e.created_at},children:e.children?e.children.map(t=>s(t)):[]}}g(()=>{m()});const m=async e=>{n.show({message:"Загрузка..."});try{const t=await axios.get("/api/categories");a.value=t.data.categories.map(p=>s(p))}catch{_.create({message:"fetching failed",color:"red"})}finally{n.hide()}};return(e,t)=>(l(),i(u,null,{default:d(()=>[a.value.length?(l(),i(r(f),{key:0,class:"custom-tree-table q-mt-md q-px-sm q-mb-xl",value:a.value,tableStyle:"min-width: 80rem; border-collapse: separate; border-spacing: 0 0.5rem"},{default:d(()=>[c(r(o),{field:"name",header:"Категория",expander:"",style:{width:"34%","font-weight":"bold"}}),c(r(o),{field:"totalAmount",header:"Сумма",style:{width:"33%","text-align":"right","padding-right":"1rem"}})]),_:1},8,["value"])):x("",!0)]),_:1}))}};export{k as default};

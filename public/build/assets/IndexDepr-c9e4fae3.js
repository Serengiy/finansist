import{Q as u}from"./QPage-a14373ce.js";import{s as f,a as o}from"./index-b3f125bf.js";import{r as h,o as _,Z as n,N as g,a as l,b as i,w as d,_ as r,e as m,d as x}from"./app-f80ab9e6.js";const k={__name:"IndexDepr",setup(w){const t=h([]);function s(e){return console.log(e),{key:e.id,data:{name:e.name,categoryType:e.category_type,totalAmount:e.total_amount,createdAt:e.created_at},children:e.children?e.children.map(a=>s(a)):[]}}_(()=>{c()});const c=async e=>{n.show({message:"Загрузка..."});try{const a=await axios.get("/api/categories");t.value=a.data.categories.map(p=>s(p))}catch{g.create({message:"fetching failed",color:"red"})}finally{n.hide()}};return(e,a)=>(l(),i(u,null,{default:d(()=>[t.value.length?(l(),i(r(f),{key:0,class:"custom-tree-table q-mt-md q-px-sm q-mb-xl",value:t.value,tableStyle:"min-width: 80rem; border-collapse: separate; border-spacing: 0 0.5rem"},{default:d(()=>[m(r(o),{field:"name",header:"Категория",expander:"",style:{width:"34%","font-weight":"bold"}}),m(r(o),{field:"totalAmount",header:"Сумма",style:{width:"33%","text-align":"right","padding-right":"1rem"}})]),_:1},8,["value"])):x("",!0)]),_:1}))}};export{k as default};

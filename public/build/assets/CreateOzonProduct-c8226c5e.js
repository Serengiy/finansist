import{y as L,r as n,L as O,o as f,n as b,d as e,a as o,f as i,w as m,i as z,F as P,I as T,q as E,P as v,N as p,v as k,g as $}from"./app-64dafc3a.js";import{Q as A}from"./QImg-4607bda3.js";import{Q as u}from"./QSelect-fcdeceb1.js";import{Q as R}from"./QTooltip-3ff6951b.js";import"./QChip-18101fab.js";import"./position-engine-f936ecea.js";const S={key:0,class:"row q-pa-sm q-gutter-md justify-center bg-grey-3"},W={class:"col-12 col-sm-9 bg-white shadow-3"},D={class:"justify-center"},G={class:"row text-center"},H={class:"col-12"},J=e("h4",null,"Создание товара",-1),K={class:"row justify-end"},M={class:"text-left q-mr-lg"},X=e("div",{class:"col-12"}," Поле для копирования характеристик ",-1),Y={class:"col-12 text-center"},Z=e("div",{class:"row q-pl-xl text-left"},[e("div",{class:"text-h6"}," Информация о товаре ")],-1),ee={class:"row items-center q-mt-lg"},te=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Бренд: ")])],-1),le={class:"col-6 text-center"},se={class:"row items-center q-mt-lg"},oe=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Название: ")])],-1),ae={class:"col-6 text-center"},ie={class:"row items-center q-mt-lg"},de=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Категория: ")])],-1),ce={class:"col-6 text-center"},ne={class:"row items-center q-mt-sm"},ue=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Штрихкод: ")])],-1),re={class:"col-6 text-center"},ve={class:"row items-center q-mt-sm"},me=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Артикул (ОЗОН): ")])],-1),_e={class:"col-6 text-center"},pe={class:"row q-mt-lg"},fe={class:"col-5 row"},be=e("div",{class:"col-6"},[e("div",{class:"text-center"},[e("div",{class:""}," Цена: ")])],-1),xe={class:"col-4"},we={class:"col-4 row justify-between text-left"},he=e("div",{class:"col-6"},[e("div",{class:"row"},[e("div",null," Цена до скидки: ")])],-1),Ve={class:"col-6"},ye=e("div",{class:"row q-pl-xl text-left q-mt-lg"},[e("div",{class:"text-h6"}," Габариты и вес ")],-1),ge={class:"row items-center q-mt-sm"},qe=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Длина упаковки: ")])],-1),je={class:"col-6 text-center"},Ue={class:"row items-center q-mt-sm"},ze=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Ширина упаковки: ")])],-1),ke={class:"col-6 text-center"},Fe={class:"row items-center q-mt-sm"},Ce=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Высота упаковки: ")])],-1),Qe={class:"col-6 text-center"},Ie={class:"row items-center q-mt-sm"},Ne=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Вес упаковки: ")])],-1),Be={class:"col-6 text-center"},Le=e("div",{class:"row q-pl-xl text-left q-mt-lg"},[e("div",{class:"text-h6"}," Фото ")],-1),Oe={class:"row q-pl-xl text-left"},Pe={class:"row justify-center"},Te={class:"col-md-9 col-xl-12 q-mt-lg"},Ee={class:"row full-height content-between"},$e={class:"col-12 row"},Ae=e("div",{class:"row q-pl-xl text-left q-mt-lg"},[e("div",{class:"text-h6"}," Характеристики ")],-1),Re={class:"row items-center q-mt-sm"},Se=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Пол: ")])],-1),We={class:"col-6 text-center"},De={class:"row items-center q-mt-sm"},Ge=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Размер: ")])],-1),He={class:"col-6 text-center"},Je={class:"row items-center q-mt-sm"},Ke=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Цвет: ")])],-1),Me={class:"col-6 text-center"},Xe={class:"row items-center q-mt-sm"},Ye=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Название цвета: ")])],-1),Ze={class:"col-6 text-center"},et={class:"row items-center q-mt-sm"},tt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Объединить на одной карточке: ")])],-1),lt={class:"col-6 text-center"},st={class:"row items-center q-mt-sm"},ot=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Аннотация: ")])],-1),at={class:"col-6 text-center"},it={class:"row items-center q-mt-sm"},dt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Ключевые слова: ")])],-1),ct={class:"col-6 text-center"},nt={class:"row justify-center"},ut=e("p",{class:"text-caption"},"Через точку с запятой укажите ключевые слова и словосочетания, которые описывают ваш товар. Используйте только соответствующие фактическому товару значения.",-1),rt={class:"row items-center q-mt-sm"},vt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Материал: ")])],-1),mt={class:"col-6 text-center"},_t={class:"row items-center q-mt-sm"},pt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Состав материала: ")])],-1),ft={class:"col-6 text-center"},bt={class:"row items-center q-mt-sm"},xt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Тип упаковки одежды: ")])],-1),wt={class:"col-6 text-center"},ht={class:"row items-center q-mt-sm"},Vt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Количество в упаковке: ")])],-1),yt={class:"col-6 text-center"},gt=e("div",{class:"col-3 text-center"},[e("div",{class:"q-my-xl q-mx-xl text-left text-body2"})],-1),qt={class:"row items-center q-mt-sm"},jt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Размер товара на фото: ")])],-1),Ut={class:"col-6 text-center"},zt={class:"row items-center q-mt-sm"},kt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Инструкция по уходу: ")])],-1),Ft={class:"col-6 text-center"},Ct={class:"row items-center q-mt-sm"},Qt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Стиль: ")])],-1),It={class:"col-6 text-center"},Nt=e("div",{class:"col-3 text-center"},[e("div",{class:"q-my-xl q-mx-xl text-left text-body2"})],-1),Bt={class:"row items-center q-mt-sm"},Lt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Коллекция: ")])],-1),Ot={class:"col-6 text-center"},Pt={class:"row items-center q-mt-sm"},Tt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Страна: ")])],-1),Et={class:"col-6 text-center"},$t={class:"row justify-center q-my-lg q-mt-lg"},At={class:"col-3 text-center"},Kt={__name:"CreateOzonProduct",setup(Rt){const F=L(),x=n({}),w=n({}),h=n({}),V=n({}),C=n({}),y=n({}),g=n({}),q=n({}),j=n({}),_=n(""),U=F.params.prop_id,c=n(),s=n({name:null,category:null,barcode:null,offer_id:"",price:null,old_price:null,width:null,height:null,weight:null,depth:null,images:null,attributes:{material:null,color:null,size:null,brand:null,code:null,sex:null,name_of_color:null},mainImage:null}),Q=async()=>{v.show();try{const t=(await axios.get(`/api/ozon/create/${U}`)).data;s.value.attributes.brand=t.brand,s.value.attributes.code=t.mergeWithCards,s.value.name=t.name,s.value.category=t.category,s.value.barcode=t.barcode,s.value.offer_id=t.offer_id,s.value.price=t.price,s.value.width=t.width,s.value.height=t.height,s.value.weight=t.weight,s.value.images=t.images,s.value.depth=t.depth,s.value.attributes.name_of_color=t.name_of_color,s.value.attributes.color=t.color,s.value.attributes.size=t.size,s.value.attributes.sex=t.sex,c.value=t.attributes,x.value=t.attributes.color,w.value=t.attributes.material,j.value=t.attributes.size,h.value=t.attributes.type_of_package,V.value=t.attributes.size_on_image,C.value=t.attributes.series_clothes,q.value=t.attributes.collection,g.value=t.attributes.style,y.value=t.attributes.country,console.log(s.value.attributes)}catch(d){console.error("Ошибка получения данных о продукте:",d)}v.hide()};O(()=>{Q()});const I=async()=>{v.show();try{(await axios.post(`/api/ozon/store/${U}`,{product:s.value},{headers:{"Content-Type":"multipart/form-data"}})).data.error?p.create({message:"Ошибка при создании товара",color:"red"}):p.create({message:"Товар создан",color:"green"})}catch(d){console.log(d)}v.hide()},r=(d,t,l,a)=>{if(console.log(l,a),d===""){t(()=>{c.value[a]=l});return}t(()=>{c.value[a]=l.filter(B=>B.value.toLowerCase().indexOf(d.toLowerCase())>-1)})},N=async()=>{if(console.log(s.value.attributes),!_.value){p.create({message:"Введите артикул продавца",color:"blue"});return}v.show();try{const d=await axios.post("/api/ozon/pull-attributes",{offer_id:_.value});d.data.error&&p.create({message:d.data.error,color:"red"}),d.data.attributes&&(console.log(d.data.attributes),s.value.attributes=d.data.attributes)}catch(d){console.log(d)}v.hide()};return(d,t)=>c.value?(f(),b("div",S,[e("div",W,[e("div",D,[e("div",G,[e("div",H,[J,e("div",K,[e("div",M,[X,e("div",Y,[o(i,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=l=>_.value=l),dense:"",label:"offer id (артикул, размер, цвет)"},null,8,["modelValue"]),o(z,{onClick:N,class:"q-mt-md",dense:"",color:"blue"},{default:m(()=>[k("Копировать")]),_:1})])])])])]),Z,e("div",null,[e("div",ee,[te,e("div",le,[o(i,{modelValue:s.value.attributes.brand.value,"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.attributes.brand.value=l)},null,8,["modelValue"])])])]),e("div",null,[e("div",se,[oe,e("div",ae,[o(i,{modelValue:s.value.name,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.name=l)},null,8,["modelValue"])])])]),e("div",null,[e("div",ie,[de,e("div",ce,[o(i,{modelValue:s.value.category,"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.category=l),disable:""},null,8,["modelValue"])])])]),e("div",null,[e("div",ne,[ue,e("div",re,[o(i,{type:"number",modelValue:s.value.barcode,"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.barcode=l),disable:""},null,8,["modelValue"])])])]),e("div",null,[e("div",ve,[me,e("div",_e,[o(i,{modelValue:s.value.offer_id,"onUpdate:modelValue":t[5]||(t[5]=l=>s.value.offer_id=l)},null,8,["modelValue"])])])]),e("div",null,[e("div",pe,[e("div",fe,[be,e("div",xe,[o(i,{label:"Цена, ₽",type:"number",modelValue:s.value.price,"onUpdate:modelValue":t[6]||(t[6]=l=>s.value.price=l)},null,8,["modelValue"])])]),e("div",we,[he,e("div",Ve,[o(i,{label:"Цена, ₽",type:"number",modelValue:s.value.old_price,"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.old_price=l)},null,8,["modelValue"])])])])]),ye,e("div",null,[e("div",ge,[qe,e("div",je,[o(i,{modelValue:s.value.depth,"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.depth=l),label:"Длина, мм"},null,8,["modelValue"])])])]),e("div",null,[e("div",Ue,[ze,e("div",ke,[o(i,{modelValue:s.value.width,"onUpdate:modelValue":t[9]||(t[9]=l=>s.value.width=l),label:"Ширина, мм"},null,8,["modelValue"])])])]),e("div",null,[e("div",Fe,[Ce,e("div",Qe,[o(i,{modelValue:s.value.height,"onUpdate:modelValue":t[10]||(t[10]=l=>s.value.height=l),label:"Высота, мм"},null,8,["modelValue"])])])]),e("div",null,[e("div",Ie,[Ne,e("div",Be,[o(i,{modelValue:s.value.weight,"onUpdate:modelValue":t[11]||(t[11]=l=>s.value.weight=l),label:"Вес, г"},null,8,["modelValue"])])])]),Le,e("div",Oe,[e("div",Pe,[e("div",Te,[e("div",Ee,[e("div",$e,[(f(!0),b(P,null,T(s.value.images,(l,a)=>(f(),b("div",{key:a,class:"cursor-pointer q-ml-md q-mt-md rounded-borders content-center text-center bg-grey-4",style:{width:"60px",height:"90px"}},[o(A,{class:"rounded-borders",src:l},null,8,["src"])]))),128))])])])])]),Ae,e("div",null,[e("div",Re,[Se,e("div",We,[o(u,{options:c.value.sex,"option-label":"value",modelValue:s.value.attributes.sex,"onUpdate:modelValue":t[12]||(t[12]=l=>s.value.attributes.sex=l)},null,8,["options","modelValue"])])])]),e("div",null,[e("div",De,[Ge,e("div",He,[o(u,{"option-label":"value",options:c.value.sizes,modelValue:s.value.attributes.size,"onUpdate:modelValue":t[13]||(t[13]=l=>s.value.attributes.size=l),onFilter:t[14]||(t[14]=(l,a)=>r(l,a,j.value,"sizes")),clearable:"","use-input":""},null,8,["options","modelValue"])])])]),e("div",null,[e("div",Je,[Ke,e("div",Me,[o(u,{"option-label":"value",options:c.value.colors,modelValue:s.value.attributes.color,"onUpdate:modelValue":t[15]||(t[15]=l=>s.value.attributes.color=l),clearable:"",onFilter:t[16]||(t[16]=(l,a)=>r(l,a,x.value,"colors")),"use-input":""},null,8,["options","modelValue"])])])]),e("div",Xe,[Ye,e("div",Ze,[o(i,{modelValue:s.value.attributes.name_of_color,"onUpdate:modelValue":t[17]||(t[17]=l=>s.value.attributes.name_of_color=l)},null,8,["modelValue"])])]),e("div",null,[e("div",et,[tt,e("div",lt,[o(i,{modelValue:s.value.attributes.code.value,"onUpdate:modelValue":t[18]||(t[18]=l=>s.value.attributes.code.value=l)},null,8,["modelValue"])])])]),e("div",st,[ot,e("div",at,[o(i,{modelValue:s.value.attributes.description,"onUpdate:modelValue":t[19]||(t[19]=l=>s.value.attributes.description=l),type:"textarea"},null,8,["modelValue"])])]),e("div",it,[dt,e("div",ct,[e("div",nt,[o(i,{modelValue:s.value.attributes.keyword,"onUpdate:modelValue":t[20]||(t[20]=l=>s.value.attributes.keyword=l),class:"col-12",autogrow:""},{append:m(()=>[o($,{class:"text-h6",color:"grey",name:"help_outline"},{default:m(()=>[o(R,{"max-width":"300px"},{default:m(()=>[ut]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),e("div",rt,[vt,e("div",mt,[o(u,{"option-label":"value",options:c.value.material,modelValue:s.value.attributes.material,"onUpdate:modelValue":t[21]||(t[21]=l=>s.value.attributes.material=l),clearable:"",onFilter:t[22]||(t[22]=(l,a)=>r(l,a,w.value,"material")),"use-input":"",multiple:"","use-chips":""},null,8,["options","modelValue"])])]),e("div",_t,[pt,e("div",ft,[o(i,{modelValue:s.value.attributes.material_composition,"onUpdate:modelValue":t[23]||(t[23]=l=>s.value.attributes.material_composition=l),"option-label":"value","option-value":"id",clearable:""},null,8,["modelValue"])])]),e("div",bt,[xt,e("div",wt,[o(u,{modelValue:s.value.attributes.type_of_package,"onUpdate:modelValue":t[24]||(t[24]=l=>s.value.attributes.type_of_package=l),options:c.value.type_of_package,"option-label":"value",onFilter:t[25]||(t[25]=(l,a)=>r(l,a,h.value,"type_of_package")),"use-input":"","option-value":"id",clearable:""},null,8,["modelValue","options"])])]),e("div",ht,[Vt,e("div",yt,[o(i,{modelValue:s.value.attributes.amount_per_package,"onUpdate:modelValue":t[26]||(t[26]=l=>s.value.attributes.amount_per_package=l),type:"number"},null,8,["modelValue"])]),gt]),e("div",qt,[jt,e("div",Ut,[o(u,{modelValue:s.value.attributes.size_on_image,"onUpdate:modelValue":t[27]||(t[27]=l=>s.value.attributes.size_on_image=l),options:c.value.size_on_image,onFilter:t[28]||(t[28]=(l,a)=>r(l,a,V.value,"size_on_image")),"option-label":"value","option-value":"id",clearable:"","use-input":""},null,8,["modelValue","options"])])]),e("div",zt,[kt,e("div",Ft,[o(i,{modelValue:s.value.attributes.care_instruction,"onUpdate:modelValue":t[29]||(t[29]=l=>s.value.attributes.care_instruction=l),"option-label":"value","option-value":"id"},null,8,["modelValue"])])]),e("div",Ct,[Qt,e("div",It,[o(u,{modelValue:s.value.attributes.style,"onUpdate:modelValue":t[30]||(t[30]=l=>s.value.attributes.style=l),options:c.value.style,onFilter:t[31]||(t[31]=(l,a)=>r(l,a,g.value,"style")),"option-label":"value","option-value":"id",clearable:"","use-input":"",multiple:"","use-chips":""},null,8,["modelValue","options"])]),Nt]),e("div",Bt,[Lt,e("div",Ot,[o(u,{modelValue:s.value.attributes.collection,"onUpdate:modelValue":t[32]||(t[32]=l=>s.value.attributes.collection=l),options:c.value.collection,onFilter:t[33]||(t[33]=(l,a)=>r(l,a,q.value,"collection")),"option-label":"value","option-value":"id","use-input":"",clearable:""},null,8,["modelValue","options"])])]),e("div",Pt,[Tt,e("div",Et,[o(u,{modelValue:s.value.attributes.country,"onUpdate:modelValue":t[34]||(t[34]=l=>s.value.attributes.country=l),options:c.value.country,onFilter:t[35]||(t[35]=(l,a)=>r(l,a,y.value,"country")),"option-label":"value","option-value":"id","use-input":"",clearable:""},null,8,["modelValue","options"])])]),e("div",$t,[e("div",At,[o(z,{onClick:I,color:"green"},{default:m(()=>[k("Отправить")]),_:1})])])])])])):E("",!0)}};export{Kt as default};

import{r as n,o as W,c as z,w as c,d as e,a as i,v as d,i as r,P as l,N as v}from"./app-64dafc3a.js";import{Q as R}from"./QPage-18703bb0.js";const O={class:"row q-my-md q-mx-auto bg-white"},N={class:"col-12 full-height shadow-3 q-pa-xl"},A=e("div",{class:"q-my-lg text-h6 text-bold text-center"}," Полуавтоматическое заполнение реализаций по мп ",-1),E={class:"row justify-center"},T={class:"col-10"},P={class:"row"},Q=e("div",{class:"col-7 text-center text-h6"}," Wildberries ",-1),V={class:"col-5"},j={class:"row q-mt-lg"},L=e("div",{class:"col-7 text-center text-h6"}," Ozon ",-1),U={class:"col-5"},M={class:"row q-mt-lg"},S=e("div",{class:"col-7 text-center text-h6"}," Выгрузить товары из 1С ",-1),G={class:"col-5"},H={class:"row q-mt-lg"},J=e("div",{class:"col-7 text-center text-h6"}," Сравнение остатков 1С ",-1),K={class:"col-5"},X={class:"row q-mt-lg"},Y=e("div",{class:"col-7 text-center text-h6"}," Загрузить файл с отсутствующими штрихкодами ",-1),Z={class:"col-5"},se={__name:"SalesByMarketplaces",setup($){const f=n(),h=n(),u=n(),_=n(),m=n(),w=()=>{f.value.click()},y=()=>{u.value.click()},g=()=>{h.value.click()},b=()=>{_.value.click()},k=()=>{m.value.click()},C=async s=>{const o=m.value.files[0],t=new FormData;t.append("file",o),await p("api/excel/import-absent-barcodes","errors.xlsx",t),s.target.value=""},I=async s=>{const o=_.value.files[0],t=new FormData;t.append("file",o);try{l.show(),(await axios.post("/api/excel/1c-import",t,{headers:{"Content-Type":"multipart/form-data"}})).data.success?v.create({message:"Файл успешно загружен",color:"positive",position:"top"}):v.create({message:"Ошибка загрузки файла",color:"negative",position:"top"}),l.hide()}catch(a){l.hide(),console.log(a)}s.target.value=""},F=async s=>{const o=u.value.files[0],t=new FormData;t.append("file",o),await p("api/excel/wb-modify","wb-uptd.xlsx",t),s.target.value=""},B=async s=>{const o=f.value.files[0],t=new FormData;t.append("file",o),await p("api/excel/ozon-modify","ozon-uptd.xlsx",t),s.target.value=""},D=async s=>{const o=h.value.files[0],t=new FormData;t.append("file",o),await p("api/excel/remains","remains1c.xlsx",t),s.target.value=""},p=async(s,o,t)=>{l.show();try{await axios.post(s,t,{responseType:"arraybuffer",headers:{"Content-Type":"multipart/form-data"}}).then(a=>{const q=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),x=document.createElement("a");x.href=window.URL.createObjectURL(q),x.download=o,x.click()}).catch(function(a){console.log(a)})}catch(a){console.log(a),l.hide()}l.hide()};return(s,o)=>(W(),z(R,{class:"row shadow-3 bg-grey-2"},{default:c(()=>[e("div",O,[e("div",N,[A,e("div",E,[e("div",T,[e("div",P,[Q,e("div",V,[i(r,{onClick:y},{default:c(()=>[d("Импорт файла")]),_:1}),e("input",{class:"hidden",type:"file",ref_key:"fileWbInput",ref:u,onChange:F},null,544)])]),e("div",j,[L,e("div",U,[i(r,{onClick:w},{default:c(()=>[d("Импорт файла")]),_:1}),e("input",{class:"hidden",type:"file",ref_key:"fileOzonInput",ref:f,onChange:B},null,544)])]),e("div",M,[S,e("div",G,[i(r,{onClick:b},{default:c(()=>[d("Импорт файла")]),_:1}),e("input",{class:"hidden",type:"file",ref_key:"file1CInput",ref:_,onChange:I},null,544)])]),e("div",H,[J,e("div",K,[i(r,{onClick:g},{default:c(()=>[d("Импорт файла")]),_:1}),e("input",{class:"hidden",type:"file",ref_key:"fileRemains1CInput",ref:h,onChange:D},null,544)])]),e("div",X,[Y,e("div",Z,[i(r,{onClick:k},{default:c(()=>[d("Импорт файла")]),_:1}),e("input",{class:"hidden",type:"file",ref_key:"fileWithAbsentBarcodesInput",ref:m,onChange:C},null,544)])])])])])])]),_:1}))}};export{se as default};

import{y as G,r as z,A as H,o as n,n as v,d as e,a as o,f as a,w as M,i as O,F as J,I as K,q as N,P as _,N as Q,v as R}from"./app-64dafc3a.js";import{Q as X}from"./QImg-4607bda3.js";import{Q as B}from"./QSelect-fcdeceb1.js";import"./QChip-18101fab.js";import"./position-engine-f936ecea.js";const Y={class:"row q-gutter-md justify-center bg-grey-3"},Z={class:"col-12 col-sm-9 bg-white shadow-3"},ee={class:"justify-center"},te={class:"row justify-center"},le={class:"col-12 text-center"},se=e("h4",null,"Создание товара",-1),oe={class:"row justify-end"},ae={class:"col-4 text-left q-mr-lg"},de=e("div",{class:"col-12"}," Поле для копирования характеристик ",-1),ce={class:"col-12 text-center"},ie=e("div",{class:"row q-pl-xl text-left"},[e("div",{class:"text-h6"}," Информация о товаре ")],-1),ue={class:"row items-center q-mt-lg"},re=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Бренд: ")])],-1),ne={class:"col-6 text-center"},ve={class:"row items-center q-mt-lg"},_e=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Название: ")])],-1),me={class:"col-6 text-center"},pe={class:"row items-center q-mt-lg"},fe=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Категория: ")])],-1),he={class:"col-6 text-center"},we={class:"row items-center q-mt-sm"},xe=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Штрихкод: ")])],-1),ye={class:"col-6 text-center"},Ve={class:"row items-center q-mt-sm"},be=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Артикул (ВБ): ")])],-1),ge={class:"col-6 text-center"},qe={class:"row items-center q-mt-sm"},je=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Цена: ")])],-1),ke={class:"col-6 text-center"},Ue={class:"row items-center q-mt-sm"},Ce=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," ТНВЭД: ")])],-1),ze={class:"col-6 text-center"},Ne=e("div",{class:"row q-pl-xl text-left q-mt-lg"},[e("div",{class:"text-h6"}," Габариты и вес ")],-1),Qe={class:"row justify-center q-mt-lg"},Be={class:"row col-10 justify-between"},Fe={class:"row items-center col-3 justify-between q-mt-sm q-px-lg"},Ie=e("div",{class:"row justify-center text-left"},[e("div",{class:"col-12"}," Длина: ")],-1),Le={class:"col-12 text-center"},Pe={class:"row items-center col-3 justify-between q-mt-sm q-px-lg"},Ae=e("div",{class:"row justify-center text-left"},[e("div",{class:"col-12"}," Ширина: ")],-1),$e={class:"col-12 text-center"},Ee={class:"row items-center col-3 justify-between q-mt-sm q-px-lg"},Me=e("div",{class:"row justify-center text-left"},[e("div",{class:"col-12"}," Высота: ")],-1),Oe={class:"col-12 text-center"},Re=e("div",{class:"row q-pl-xl text-left q-mt-lg"},[e("div",{class:"text-h6"}," Фото ")],-1),Se={class:"row q-pl-xl text-left"},Te={class:"row justify-center"},We={class:"col-md-9 col-xl-12 q-mt-lg"},De={class:"row full-height content-between"},Ge={class:"col-12 row"},He=e("div",{class:"row q-pl-xl text-left q-mt-lg"},[e("div",{class:"text-h6"}," Характеристики ")],-1),Je={class:"row items-center q-mt-sm"},Ke=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Пол: ")])],-1),Xe={class:"col-6 text-center"},Ye={class:"row items-center q-mt-sm"},Ze=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Размер: ")])],-1),et={class:"col-6 text-center"},tt={class:"row items-center q-mt-sm"},lt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Российский размер: ")])],-1),st={class:"col-6 text-center"},ot={class:"row items-center q-mt-sm"},at=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Цвет характеристики: ")])],-1),dt={class:"col-6 text-center"},ct={class:"row items-center q-mt-sm"},it=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Цвет: ")])],-1),ut={class:"col-6 text-center"},rt={class:"row items-center q-mt-sm"},nt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Аннотация: ")])],-1),vt={class:"col-6 text-center"},_t={class:"row items-center q-mt-sm"},mt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Состав: ")])],-1),pt={class:"col-6 text-center"},ft={class:"row items-center q-mt-sm"},ht=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Упаковка: ")])],-1),wt={class:"col-6 text-center"},xt={key:0,class:"row items-center q-mt-sm"},yt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Вид бюстгальтера: ")])],-1),Vt={class:"col-6 text-center"},bt={key:1,class:"row items-center q-mt-sm"},gt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Модель трусов: ")])],-1),qt={class:"col-6 text-center"},jt={key:2,class:"row items-center q-mt-sm"},kt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Тип посадки: ")])],-1),Ut={class:"col-6 text-center"},Ct={class:"row items-center q-mt-sm"},zt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Назначение: ")])],-1),Nt={class:"col-6 text-center"},Qt={class:"row items-center q-mt-sm"},Bt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Назначение белья/купальника: ")])],-1),Ft={class:"col-6 text-center"},It={class:"row items-center q-mt-sm"},Lt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Особенности белья: ")])],-1),Pt={class:"col-6 text-center"},At={class:"row items-center q-mt-sm"},$t=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Уход за вещами: ")])],-1),Et={class:"col-6 text-center"},Mt={key:3,class:"row items-center q-mt-sm"},Ot=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Рисунок: ")])],-1),Rt={class:"col-6 text-center"},St={class:"row items-center q-mt-sm"},Tt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Коллекция: ")])],-1),Wt={class:"col-6 text-center"},Dt={class:"row items-center q-mt-sm"},Gt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Комплектация: ")])],-1),Ht={class:"col-6 text-center"},Jt={class:"row items-center q-mt-sm"},Kt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Фактура материала: ")])],-1),Xt={class:"col-6 text-center"},Yt={class:"row items-center q-mt-sm"},Zt=e("div",{class:"col-3"},[e("div",{class:"row justify-center text-left"},[e("div",{class:"col-6"}," Страна: ")])],-1),el={class:"col-6 text-center"},tl={class:"row justify-center q-my-lg q-mt-lg"},ll={class:"col-3 text-center"},rl={__name:"CreateWBProduct",setup(sl){const F=G().params.prop_id,u=z({}),I=z([]),C=z(),t=z({brand:null,name:null,barcode:null,vendorCode:null,category:null,description:null,price:null,size:null,size_rus:null,pack_height:null,pack_width:null,pack_length:null,type_of_bra:null,material_texture:null,collection:null,sex:null,country:null,features_clothes:null,equipment:null,clothes_caring:null,clothes_purpose:null,color:null,propColor:null,cnfea:null,purpose:null,material:null,type_of_underwear:null,fit_type:null,prints:null,package:null}),S=async()=>{var i,l,s,r,m,p,f,h,w,x,y,V,b,g,q,j,k,U;_.show();try{const d=await axios.get(`/api/wb/create/${F}`);d.data.error?Q.create({message:d.data.error,color:"red"}):(t.value=d.data.product,t.value.type_of_bra=(i=d.data.product_attributes)==null?void 0:i.type_of_bra,t.value.material_texture=(l=d.data.product_attributes)==null?void 0:l.material_texture,t.value.collection=(s=d.data.product_attributes)==null?void 0:s.collection,t.value.sex=((r=d.data.product_attributes)==null?void 0:r.sex)??t.value.sex,t.value.country=((m=d.data.product_attributes)==null?void 0:m.country)??t.value.country,t.value.material=(p=d.data.product_attributes)==null?void 0:p.material,t.value.features_clothes=(f=d.data.product_attributes)==null?void 0:f.features_clothes,t.value.equipment=(h=d.data.product_attributes)==null?void 0:h.equipment,t.value.clothes_caring=(w=d.data.product_attributes)==null?void 0:w.clothes_caring,t.value.clothes_purpose=(x=d.data.product_attributes)==null?void 0:x.clothes_purpose,t.value.color=((y=d.data.product_attributes)==null?void 0:y.color)??t.value.color,t.value.cnfea=(V=d.data.product_attributes)==null?void 0:V.cnfea,t.value.purpose=(b=d.data.product_attributes)==null?void 0:b.purpose,t.value.material=(g=d.data.product_attributes)==null?void 0:g.material,t.value.type_of_underwear=(q=d.data.product_attributes)==null?void 0:q.type_of_underwear,t.value.fit_type=(j=d.data.product_attributes)==null?void 0:j.fit_type,t.value.prints=(k=d.data.product_attributes)==null?void 0:k.prints,t.value.package=(U=d.data.product_attributes)==null?void 0:U.package,u.value=d.data.attributes,I.value=u.value.wbColors)}catch(d){console.error("Ошибка получения данных о продукте:",d)}_.hide()};H(()=>{S()});const T=async()=>{var i,l,s,r,m,p,f,h,w,x,y,V,b,g,q,j,k,U,d,L,P,A,$,E;if(!C.value){Q.create({message:"Введите артикул продавца",color:"blue"});return}_.show();try{const c=await axios.post("/api/wb/pull-attributes",{vendor_code:C.value});t.value.description=(i=c.data.main_attributes)==null?void 0:i.description,t.value.name=(l=c.data.main_attributes)==null?void 0:l.name,t.value.description=(s=c.data.main_attributes)==null?void 0:s.description,t.value.pack_height=(r=c.data.main_attributes)==null?void 0:r.pack_height,t.value.pack_width=(m=c.data.main_attributes)==null?void 0:m.pack_width,t.value.pack_length=(p=c.data.main_attributes)==null?void 0:p.pack_length,t.value.type_of_bra=(f=c.data.product_attributes)==null?void 0:f.type_of_bra,t.value.material_texture=(h=c.data.product_attributes)==null?void 0:h.material_texture,t.value.collection=(w=c.data.product_attributes)==null?void 0:w.collection,t.value.sex=(x=c.data.product_attributes)==null?void 0:x.sex,t.value.country=(y=c.data.product_attributes)==null?void 0:y.country,t.value.material=(V=c.data.product_attributes)==null?void 0:V.material,t.value.features_clothes=(b=c.data.product_attributes)==null?void 0:b.features_clothes,t.value.equipment=(g=c.data.product_attributes)==null?void 0:g.equipment,t.value.clothes_caring=(q=c.data.product_attributes)==null?void 0:q.clothes_caring,t.value.clothes_purpose=(j=c.data.product_attributes)==null?void 0:j.clothes_purpose,t.value.color=(k=c.data.product_attributes)==null?void 0:k.color,t.value.cnfea=(U=c.data.product_attributes)==null?void 0:U.cnfea,t.value.purpose=(d=c.data.product_attributes)==null?void 0:d.purpose,t.value.material=(L=c.data.product_attributes)==null?void 0:L.material,t.value.type_of_underwear=(P=c.data.product_attributes)==null?void 0:P.type_of_underwear,t.value.fit_type=(A=c.data.product_attributes)==null?void 0:A.fit_type,t.value.prints=($=c.data.product_attributes)==null?void 0:$.prints,t.value.package=(E=c.data.product_attributes)==null?void 0:E.package}catch(c){console.log(c)}_.hide()},W=(i,l)=>{if(i===""){l(()=>{u.value.wbColors=I.value});return}l(()=>{const s=i.toLowerCase();console.log(u.value),u.value.wbColors=u.value.wbColors.filter(r=>r.name.toLowerCase().indexOf(s)>-1)})},D=async()=>{_.show();try{const i=await axios.post(`/api/wb/store/${F}`,{product:t.value});console.log(i.data),i.data.error?Q.create({message:i.data.error,color:"red"}):Q.create({message:"Товар создан",color:"green"})}catch(i){console.log(i)}_.hide()};return(i,l)=>(n(),v("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",le,[se,e("div",oe,[e("div",ae,[de,e("div",ce,[o(a,{modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=s=>C.value=s),dense:"",label:"Артикул продавца (артикул-цвет)"},null,8,["modelValue"]),o(O,{onClick:T,class:"q-mt-md",dense:"",color:"blue"},{default:M(()=>[R("Копировать")]),_:1})])])])])]),ie,e("div",null,[e("div",ue,[re,e("div",ne,[o(a,{modelValue:t.value.brand,"onUpdate:modelValue":l[1]||(l[1]=s=>t.value.brand=s)},null,8,["modelValue"])])])]),e("div",null,[e("div",ve,[_e,e("div",me,[o(a,{modelValue:t.value.name,"onUpdate:modelValue":l[2]||(l[2]=s=>t.value.name=s)},null,8,["modelValue"])])])]),e("div",null,[e("div",pe,[fe,e("div",he,[o(a,{modelValue:t.value.category,"onUpdate:modelValue":l[3]||(l[3]=s=>t.value.category=s),disable:""},null,8,["modelValue"])])])]),e("div",null,[e("div",we,[xe,e("div",ye,[o(a,{type:"number",modelValue:t.value.barcode,"onUpdate:modelValue":l[4]||(l[4]=s=>t.value.barcode=s),disable:""},null,8,["modelValue"])])])]),e("div",null,[e("div",Ve,[be,e("div",ge,[o(a,{modelValue:t.value.vendorCode,"onUpdate:modelValue":l[5]||(l[5]=s=>t.value.vendorCode=s),disable:""},null,8,["modelValue"])])])]),e("div",null,[e("div",qe,[je,e("div",ke,[o(a,{label:"Цена, ₽",type:"number",modelValue:t.value.price,"onUpdate:modelValue":l[6]||(l[6]=s=>t.value.price=s)},null,8,["modelValue"])])])]),e("div",Ue,[Ce,e("div",ze,[o(a,{modelValue:t.value.cnfea,"onUpdate:modelValue":l[7]||(l[7]=s=>t.value.cnfea=s)},null,8,["modelValue"])])]),Ne,e("div",Qe,[e("div",Be,[e("div",Fe,[Ie,e("div",Le,[o(a,{label:"Длина, см",modelValue:t.value.pack_length,"onUpdate:modelValue":l[8]||(l[8]=s=>t.value.pack_length=s)},null,8,["modelValue"])])]),e("div",Pe,[Ae,e("div",$e,[o(a,{label:"Ширина, см",modelValue:t.value.pack_width,"onUpdate:modelValue":l[9]||(l[9]=s=>t.value.pack_width=s)},null,8,["modelValue"])])]),e("div",Ee,[Me,e("div",Oe,[o(a,{label:"Высота, см",modelValue:t.value.pack_height,"onUpdate:modelValue":l[10]||(l[10]=s=>t.value.pack_height=s)},null,8,["modelValue"])])])])]),Re,e("div",Se,[e("div",Te,[e("div",We,[e("div",De,[e("div",Ge,[(n(!0),v(J,null,K(t.value.images,(s,r)=>(n(),v("div",{key:r,class:"cursor-pointer q-ml-md q-mt-md rounded-borders content-center text-center bg-grey-4",style:{width:"60px",height:"90px"}},[o(X,{class:"rounded-borders",src:s},null,8,["src"])]))),128))])])])])]),He,e("div",null,[e("div",Je,[Ke,e("div",Xe,[o(B,{options:u.value.sex,modelValue:t.value.sex,"onUpdate:modelValue":l[11]||(l[11]=s=>t.value.sex=s)},null,8,["options","modelValue"])])])]),e("div",null,[e("div",Ye,[Ze,e("div",et,[o(a,{modelValue:t.value.size,"onUpdate:modelValue":l[12]||(l[12]=s=>t.value.size=s)},null,8,["modelValue"])])])]),e("div",null,[e("div",tt,[lt,e("div",st,[o(a,{modelValue:t.value.size_rus,"onUpdate:modelValue":l[13]||(l[13]=s=>t.value.size_rus=s)},null,8,["modelValue"])])])]),e("div",ot,[at,e("div",dt,[o(a,{disable:"",modelValue:t.value.propColor,"onUpdate:modelValue":l[14]||(l[14]=s=>t.value.propColor=s)},null,8,["modelValue"])])]),e("div",ct,[it,e("div",ut,[o(B,{class:"col-2",modelValue:t.value.color,"onUpdate:modelValue":l[15]||(l[15]=s=>t.value.color=s),options:u.value.wbColors,"option-label":"name",label:"Предлагаемые цвета вб",clearable:"",dense:"",onFilter:W,"use-input":"","input-debounce":"300"},null,8,["modelValue","options"])])]),e("div",rt,[nt,e("div",vt,[o(a,{type:"textarea",modelValue:t.value.description,"onUpdate:modelValue":l[16]||(l[16]=s=>t.value.description=s)},null,8,["modelValue"])])]),e("div",_t,[mt,e("div",pt,[o(a,{modelValue:t.value.material,"onUpdate:modelValue":l[17]||(l[17]=s=>t.value.material=s)},null,8,["modelValue"])])]),e("div",ft,[ht,e("div",wt,[o(a,{modelValue:t.value.package,"onUpdate:modelValue":l[18]||(l[18]=s=>t.value.package=s)},null,8,["modelValue"])])]),t.value.category==="Бюстгальтеры"?(n(),v("div",xt,[yt,e("div",Vt,[o(a,{modelValue:t.value.type_of_bra,"onUpdate:modelValue":l[19]||(l[19]=s=>t.value.type_of_bra=s)},null,8,["modelValue"])])])):N("",!0),t.value.category==="Трусы"?(n(),v("div",bt,[gt,e("div",qt,[o(a,{modelValue:t.value.type_of_underwear,"onUpdate:modelValue":l[20]||(l[20]=s=>t.value.type_of_underwear=s)},null,8,["modelValue"])])])):N("",!0),t.value.category==="Трусы"?(n(),v("div",jt,[kt,e("div",Ut,[o(a,{modelValue:t.value.fit_type,"onUpdate:modelValue":l[21]||(l[21]=s=>t.value.fit_type=s)},null,8,["modelValue"])])])):N("",!0),e("div",Ct,[zt,e("div",Nt,[o(a,{modelValue:t.value.purpose,"onUpdate:modelValue":l[22]||(l[22]=s=>t.value.purpose=s)},null,8,["modelValue"])])]),e("div",Qt,[Bt,e("div",Ft,[o(a,{modelValue:t.value.clothes_purpose,"onUpdate:modelValue":l[23]||(l[23]=s=>t.value.clothes_purpose=s)},null,8,["modelValue"])])]),e("div",It,[Lt,e("div",Pt,[o(a,{modelValue:t.value.features_clothes,"onUpdate:modelValue":l[24]||(l[24]=s=>t.value.features_clothes=s)},null,8,["modelValue"])])]),e("div",At,[$t,e("div",Et,[o(a,{modelValue:t.value.clothes_caring,"onUpdate:modelValue":l[25]||(l[25]=s=>t.value.clothes_caring=s)},null,8,["modelValue"])])]),t.value.category==="Трусы"?(n(),v("div",Mt,[Ot,e("div",Rt,[o(a,{modelValue:t.value.print,"onUpdate:modelValue":l[26]||(l[26]=s=>t.value.print=s)},null,8,["modelValue"])])])):N("",!0),e("div",St,[Tt,e("div",Wt,[o(a,{modelValue:t.value.collection,"onUpdate:modelValue":l[27]||(l[27]=s=>t.value.collection=s)},null,8,["modelValue"])])]),e("div",Dt,[Gt,e("div",Ht,[o(a,{modelValue:t.value.equipment,"onUpdate:modelValue":l[28]||(l[28]=s=>t.value.equipment=s)},null,8,["modelValue"])])]),e("div",Jt,[Kt,e("div",Xt,[o(a,{modelValue:t.value.material_texture,"onUpdate:modelValue":l[29]||(l[29]=s=>t.value.material_texture=s)},null,8,["modelValue"])])]),e("div",Yt,[Zt,e("div",el,[o(B,{options:u.value.countries,modelValue:t.value.country,"onUpdate:modelValue":l[30]||(l[30]=s=>t.value.country=s)},null,8,["options","modelValue"])])]),e("div",tl,[e("div",ll,[o(O,{onClick:D,color:"green"},{default:M(()=>[R("Отправить")]),_:1})])])])])]))}};export{rl as default};

import{u as d,r as l,k as m,U as _,o as f,c as g,w as u,N as w,b as o,a as r,n as x,s as k,a5 as v}from"./app-4df6b152.js";import{Q as y}from"./QPage-b9f7ef16.js";import{_ as N}from"./RulesTable-91ac5c21.js";import"./QTable-2b5d2408.js";import"./QSelect-995ec182.js";import"./QPagination-21b8a7aa.js";const b={class:"row justify-center"},h={class:"justify-center col-12 q-px-md q-mt-lg"},C={class:"text-blue-5 row items-center"},R=["onClick"],z={__name:"Rules",setup(B){const n=d().params.id,c=l([]),i=l({page:1,rowsPerPage:20,rowsNumber:0}),a=async()=>{try{const e=await axios.get("/api/rules",{params:{contractor_id:n,load:["category,contractor"]}});console.log(e.data.data),c.value=e.data.data}catch{w.create({message:"Ошибка получения данных",color:"red",timeout:2e3})}};return m(()=>{a()}),(e,t)=>{const p=_("router-link");return f(),g(y,{class:"bg-grey-3"},{default:u(()=>[o("div",b,[o("div",h,[o("p",C,[r(p,{to:{name:"ContractorShow",params:{id:v(n)}},custom:""},{default:u(({navigate:s})=>[o("div",{onClick:s,class:"cursor-pointer"},[r(x,{size:"sm",name:"keyboard_arrow_left"}),t[1]||(t[1]=k(" Назад "))],8,R)]),_:1},8,["to"])]),t[2]||(t[2]=o("p",{class:"text-h6 text-center"}," Правила ",-1)),r(N,{rules:c.value,pagination:i.value,"onUpdate:pagination":t[0]||(t[0]=s=>{i.value=s,a()}),onRefresh:a},null,8,["rules","pagination"])])])]),_:1})}}};export{z as default};
